{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mosfe\\\\Documents\\\\webPJT\\\\V4\\\\ProjectWachi-main\\\\WebWachi\\\\src\\\\pages\\\\ManageClass.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { db } from \"../firebase\";\nimport { doc, getDoc, collection, query, onSnapshot,\n// ใช้ onSnapshot แทน getDocs\nupdateDoc, setDoc } from \"firebase/firestore\";\nimport { QRCodeCanvas } from \"qrcode.react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { CHECKIN_STATUS, STUDENT_CHECKIN_STATUS, SCORE_STATUS } from \"../Constants\"; // Assuming you have a Constants file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageClass = () => {\n  _s();\n  const {\n    classId\n  } = useParams();\n  const navigate = useNavigate();\n  const [classInfo, setClassInfo] = useState(null);\n  const [checkins, setCheckins] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [showStudents, setShowStudents] = useState(false);\n  const [selectedCheckin, setSelectedCheckin] = useState(null); // State สำหรับเก็บ cno ที่เลือก\n  const [selectedCheckinStudents, setSelectedCheckinStudents] = useState([]); // State สำหรับรายชื่อ นร. ใน checkin ที่เลือก\n  const [selectedCheckinScores, setSelectedCheckinScores] = useState({}); // State สำหรับ scores ใน checkin ที่เลือก\n  const [checkinInfo, setCheckinInfo] = useState(null);\n  useEffect(() => {\n    // Fetch class info (เหมือนเดิม)\n    const fetchClassData = async () => {/* ... */};\n\n    // Fetch check-ins (เหมือนเดิม)\n    const fetchCheckins = async () => {/* ... */};\n\n    // Fetch students (เหมือนเดิม)\n    const fetchStudents = async () => {/* ... */};\n    fetchClassData();\n    fetchCheckins();\n    fetchStudents();\n  }, [classId, navigate]);\n\n  // useEffect สำหรับดึงข้อมูลการเช็คชื่อที่เลือก (Realtime)\n  useEffect(() => {\n    if (!selectedCheckin) {\n      setSelectedCheckinStudents([]); // Clear students when no check-in is selected\n      setSelectedCheckinScores({}); // Clear scores\n      setCheckinInfo(null);\n      return;\n    }\n    const checkinRef = doc(db, `classroom/${classId}/checkin`, selectedCheckin);\n    const unsubscribeCheckin = onSnapshot(checkinRef, docSnap => {\n      if (docSnap.exists()) {\n        setCheckinInfo(docSnap.data());\n      } else {\n        console.error(\"Check-in not found\");\n      }\n    });\n    const studentsRef = collection(db, `classroom/${classId}/checkin/${selectedCheckin}/students`);\n    const unsubscribeStudents = onSnapshot(studentsRef, querySnapshot => {\n      const studentsData = querySnapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data()\n      }));\n      setSelectedCheckinStudents(studentsData);\n    });\n    const scoresRef = collection(db, `classroom/${classId}/checkin/${selectedCheckin}/scores`);\n    const unsubscribeScores = onSnapshot(scoresRef, querySnapshot => {\n      let scoresData = {};\n      querySnapshot.forEach(docSnap => {\n        scoresData[docSnap.id] = docSnap.data();\n      });\n      setSelectedCheckinScores(scoresData);\n    });\n\n    // Cleanup subscriptions\n    return () => {\n      unsubscribeStudents();\n      unsubscribeScores();\n      unsubscribeCheckin();\n    };\n  }, [selectedCheckin, classId]);\n  const handleScoreChange = async (stdid, field, value) => {\n    if (!selectedCheckin) return;\n    const scoreRef = doc(db, `classroom/${classId}/checkin/${selectedCheckin}/scores`, stdid);\n    try {\n      await updateDoc(scoreRef, {\n        [field]: value\n      });\n    } catch (error) {\n      console.error(\"Error updating score: \", error);\n    }\n  };\n  const saveScores = async () => {\n    if (!selectedCheckin) return;\n    // All updates are handled in real-time by handleScoreChange\n    alert(\"Scores saved!\");\n  };\n  const saveAttendance = async () => {\n    if (!selectedCheckin) return;\n    const scoresRef = collection(db, `classroom/${classId}/checkin/${selectedCheckin}/scores`);\n\n    // Copy from students to scores, setting status to PRESENT\n    for (const student of selectedCheckinStudents) {\n      const scoreDocRef = doc(scoresRef, student.stdid);\n      await setDoc(scoreDocRef, {\n        date: student.date,\n        // Or serverTimestamp() if you want to use the time of saving\n        name: student.name,\n        uid: student.id,\n        remark: student.remark,\n        score: 0,\n        // Default score, can be updated later\n        status: SCORE_STATUS.PRESENT\n      }, {\n        merge: true\n      }); // Use merge to avoid overwriting existing data\n    }\n  };\n  const handleStartCheckIn = () => {\n    navigate(`/checkin/${classId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4 text-center\",\n      children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E40\\u0E23\\u0E35\\u0E22\\u0E19\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), classInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [classInfo.info.name, \" (\", classInfo.info.code, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(QRCodeCanvas, {\n          value: `${window.location.origin}/register/${classId}`,\n          size: 180\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary mb-3\",\n      onClick: handleStartCheckIn,\n      children: \"\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E40\\u0E0A\\u0E47\\u0E04\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E40\\u0E0A\\u0E47\\u0E04\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0E27\\u0E31\\u0E19-\\u0E40\\u0E27\\u0E25\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E19\\u0E40\\u0E02\\u0E49\\u0E32\\u0E40\\u0E23\\u0E35\\u0E22\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0E14\\u0E39\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: checkins.map((record, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.studentCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: record.status === 1 ? \"กำลังเรียน\" : \"เสร็จสิ้น\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-info btn-sm\",\n              onClick: () => setSelectedCheckin(selectedCheckin === record.id ? null : record.id) // Toggle selection\n              ,\n              children: selectedCheckin === record.id ? \"ซ่อน\" : \"แสดง\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), selectedCheckin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [checkinInfo && /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Check-in #\", selectedCheckin, \" - \", checkinInfo.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary mb-3\",\n        onClick: saveAttendance,\n        children: \"Save Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\u0E23\\u0E32\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E19\\u0E31\\u0E01\\u0E40\\u0E23\\u0E35\\u0E22\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E40\\u0E27\\u0E25\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: selectedCheckinStudents.map((student, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.stdid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.remark\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this)]\n          }, student.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Scores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Remark\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: Object.entries(selectedCheckinScores).map(([stdid, scoreData], index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: stdid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: scoreData.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: scoreData.remark,\n                onChange: e => handleScoreChange(stdid, \"remark\", e.target.value),\n                className: \"form-control form-control-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: scoreData.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: scoreData.score,\n                onChange: e => handleScoreChange(stdid, \"score\", parseInt(e.target.value, 10)),\n                className: \"form-control form-control-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: scoreData.status,\n                onChange: e => handleScoreChange(stdid, \"status\", parseInt(e.target.value, 10)),\n                className: \"form-select form-select-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: SCORE_STATUS.ABSENT,\n                  children: \"Absent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: SCORE_STATUS.PRESENT,\n                  children: \"Present\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: SCORE_STATUS.LATE,\n                  children: \"Late\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 29\n            }, this)]\n          }, stdid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: saveScores,\n        children: \"Save Scores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-secondary mt-3\",\n      onClick: () => navigate(\"/dashboard\"),\n      children: \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-info mt-3 ms-2\",\n      onClick: () => setShowStudents(!showStudents),\n      children: showStudents ? \"ซ่อนรายชื่อนักศึกษา\" : \"แสดงรายชื่อนักศึกษา\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }, this), showStudents && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\u0E23\\u0E32\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E19\\u0E31\\u0E01\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: students.map((student, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.stdid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: student.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: student.photo,\n                alt: \"Student\",\n                width: \"50\",\n                height: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageClass, \"CDlRnV20ktW6V9WivJE2pBoQ5dU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ManageClass;\nexport default ManageClass;\nvar _c;\n$RefreshReg$(_c, \"ManageClass\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","db","doc","getDoc","collection","query","onSnapshot","updateDoc","setDoc","QRCodeCanvas","CHECKIN_STATUS","STUDENT_CHECKIN_STATUS","SCORE_STATUS","jsxDEV","_jsxDEV","ManageClass","_s","classId","navigate","classInfo","setClassInfo","checkins","setCheckins","students","setStudents","showStudents","setShowStudents","selectedCheckin","setSelectedCheckin","selectedCheckinStudents","setSelectedCheckinStudents","selectedCheckinScores","setSelectedCheckinScores","checkinInfo","setCheckinInfo","fetchClassData","fetchCheckins","fetchStudents","checkinRef","unsubscribeCheckin","docSnap","exists","data","console","error","studentsRef","unsubscribeStudents","querySnapshot","studentsData","docs","map","id","scoresRef","unsubscribeScores","scoresData","forEach","handleScoreChange","stdid","field","value","scoreRef","saveScores","alert","saveAttendance","student","scoreDocRef","date","name","uid","remark","score","status","PRESENT","merge","handleStartCheckIn","className","children","fileName","_jsxFileName","lineNumber","columnNumber","info","code","window","location","origin","size","onClick","record","index","studentCount","Object","entries","scoreData","type","onChange","e","target","parseInt","ABSENT","LATE","src","photo","alt","width","height","_c","$RefreshReg$"],"sources":["C:/Users/mosfe/Documents/webPJT/V4/ProjectWachi-main/WebWachi/src/pages/ManageClass.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { db } from \"../firebase\";\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  collection,\r\n  query,\r\n  onSnapshot, // ใช้ onSnapshot แทน getDocs\r\n  updateDoc,\r\n  setDoc,\r\n} from \"firebase/firestore\";\r\nimport { QRCodeCanvas } from \"qrcode.react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { CHECKIN_STATUS, STUDENT_CHECKIN_STATUS, SCORE_STATUS } from \"../Constants\"; // Assuming you have a Constants file\r\n\r\nconst ManageClass = () => {\r\n  const { classId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [classInfo, setClassInfo] = useState(null);\r\n  const [checkins, setCheckins] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [showStudents, setShowStudents] = useState(false);\r\n\r\n  const [selectedCheckin, setSelectedCheckin] = useState(null); // State สำหรับเก็บ cno ที่เลือก\r\n  const [selectedCheckinStudents, setSelectedCheckinStudents] = useState([]); // State สำหรับรายชื่อ นร. ใน checkin ที่เลือก\r\n  const [selectedCheckinScores, setSelectedCheckinScores] = useState({});  // State สำหรับ scores ใน checkin ที่เลือก\r\n  const [checkinInfo, setCheckinInfo] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    // Fetch class info (เหมือนเดิม)\r\n    const fetchClassData = async () => { /* ... */ };\r\n\r\n    // Fetch check-ins (เหมือนเดิม)\r\n    const fetchCheckins = async () => { /* ... */ };\r\n\r\n    // Fetch students (เหมือนเดิม)\r\n    const fetchStudents = async () => { /* ... */ };\r\n\r\n    fetchClassData();\r\n    fetchCheckins();\r\n    fetchStudents();\r\n  }, [classId, navigate]);\r\n\r\n  // useEffect สำหรับดึงข้อมูลการเช็คชื่อที่เลือก (Realtime)\r\n  useEffect(() => {\r\n    if (!selectedCheckin) {\r\n        setSelectedCheckinStudents([]); // Clear students when no check-in is selected\r\n        setSelectedCheckinScores({});   // Clear scores\r\n        setCheckinInfo(null);\r\n        return;\r\n    }\r\n\r\n    const checkinRef = doc(db, `classroom/${classId}/checkin`, selectedCheckin);\r\n    const unsubscribeCheckin = onSnapshot(checkinRef, (docSnap) => {\r\n      if (docSnap.exists()) {\r\n        setCheckinInfo(docSnap.data());\r\n      } else {\r\n        console.error(\"Check-in not found\");\r\n      }\r\n    });\r\n\r\n\r\n    const studentsRef = collection(\r\n      db,\r\n      `classroom/${classId}/checkin/${selectedCheckin}/students`\r\n    );\r\n    const unsubscribeStudents = onSnapshot(studentsRef, (querySnapshot) => {\r\n      const studentsData = querySnapshot.docs.map((docSnap) => ({\r\n        id: docSnap.id,\r\n        ...docSnap.data(),\r\n      }));\r\n      setSelectedCheckinStudents(studentsData);\r\n    });\r\n\r\n    const scoresRef = collection(\r\n      db,\r\n      `classroom/${classId}/checkin/${selectedCheckin}/scores`\r\n    );\r\n    const unsubscribeScores = onSnapshot(scoresRef, (querySnapshot) => {\r\n      let scoresData = {};\r\n      querySnapshot.forEach((docSnap) => {\r\n        scoresData[docSnap.id] = docSnap.data();\r\n      });\r\n      setSelectedCheckinScores(scoresData);\r\n    });\r\n\r\n\r\n    // Cleanup subscriptions\r\n    return () => {\r\n      unsubscribeStudents();\r\n      unsubscribeScores();\r\n      unsubscribeCheckin();\r\n    };\r\n  }, [selectedCheckin, classId]);\r\n\r\n\r\n    const handleScoreChange = async (stdid, field, value) => {\r\n        if (!selectedCheckin) return;\r\n        const scoreRef = doc(db, `classroom/${classId}/checkin/${selectedCheckin}/scores`, stdid);\r\n        try {\r\n            await updateDoc(scoreRef, {\r\n                [field]: value,\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error updating score: \", error);\r\n        }\r\n    };\r\n\r\n    const saveScores = async () => {\r\n        if (!selectedCheckin) return;\r\n        // All updates are handled in real-time by handleScoreChange\r\n        alert(\"Scores saved!\");\r\n    };\r\n\r\n    const saveAttendance = async () => {\r\n        if (!selectedCheckin) return;\r\n        const scoresRef = collection(db, `classroom/${classId}/checkin/${selectedCheckin}/scores`);\r\n\r\n        // Copy from students to scores, setting status to PRESENT\r\n        for (const student of selectedCheckinStudents) {\r\n            const scoreDocRef = doc(scoresRef, student.stdid);\r\n            await setDoc(scoreDocRef, {\r\n                date: student.date, // Or serverTimestamp() if you want to use the time of saving\r\n                name: student.name,\r\n                uid: student.id,\r\n                remark: student.remark,\r\n                score: 0, // Default score, can be updated later\r\n                status: SCORE_STATUS.PRESENT,\r\n            }, { merge: true }); // Use merge to avoid overwriting existing data\r\n        }\r\n    };\r\n\r\n\r\n  const handleStartCheckIn = () => {\r\n    navigate(`/checkin/${classId}`);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      {/* ... (ส่วนแสดงข้อมูลห้องเรียนและ QRCode) ... */}\r\n      <h1 className=\"mb-4 text-center\">จัดการห้องเรียน</h1>\r\n      {classInfo && (\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-body text-center\">\r\n            <h4>\r\n              {classInfo.info.name} ({classInfo.info.code})\r\n            </h4>\r\n            <QRCodeCanvas\r\n              value={`${window.location.origin}/register/${classId}`}\r\n              size={180}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <button className=\"btn btn-primary mb-3\" onClick={handleStartCheckIn}>\r\n        เริ่มเช็คชื่อ\r\n      </button>\r\n\r\n      <h5>ประวัติการเช็คชื่อ</h5>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>วัน-เวลา</th>\r\n            <th>จำนวนคนเข้าเรียน</th>\r\n            <th>สถานะ</th>\r\n            <th>ดูรายละเอียด</th> {/* เปลี่ยนจาก \"จัดการ\" เป็น \"ดูรายละเอียด\" */}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {checkins.map((record, index) => (\r\n            <tr key={index}>\r\n              <td>{index + 1}</td>\r\n              <td>{record.date}</td>\r\n              <td>{record.studentCount}</td>\r\n              <td>{record.status === 1 ? \"กำลังเรียน\" : \"เสร็จสิ้น\"}</td>\r\n              <td>\r\n                <button\r\n                  className=\"btn btn-info btn-sm\"\r\n                  onClick={() =>\r\n                    setSelectedCheckin(selectedCheckin === record.id ? null : record.id)\r\n                  } // Toggle selection\r\n                >\r\n                   {selectedCheckin === record.id ? \"ซ่อน\" : \"แสดง\"}\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* แสดงรายละเอียดการเช็คชื่อที่เลือก */}\r\n      {selectedCheckin && (\r\n        <div className=\"mt-4\">\r\n            {checkinInfo && <h5>Check-in #{selectedCheckin} - {checkinInfo.date}</h5>}\r\n            <button className=\"btn btn-primary mb-3\" onClick={saveAttendance}>\r\n                Save Attendance\r\n            </button>\r\n          <h5>รายชื่อนักเรียน</h5>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>รหัส</th>\r\n                <th>ชื่อ</th>\r\n                <th>หมายเหตุ</th>\r\n                <th>เวลา</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {selectedCheckinStudents.map((student, index) => (\r\n                <tr key={student.id}>\r\n                  <td>{index + 1}</td>\r\n                  <td>{student.stdid}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>{student.remark}</td>\r\n                  <td>{student.date}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n            <h5>Scores</h5>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>ID</th>\r\n                        <th>Name</th>\r\n                        <th>Remark</th>\r\n                        <th>Time</th>\r\n                        <th>Score</th>\r\n                        <th>Status</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Object.entries(selectedCheckinScores).map(([stdid, scoreData], index) => (\r\n                        <tr key={stdid}>\r\n                            <td>{index + 1}</td>\r\n                            <td>{stdid}</td>\r\n                            <td>{scoreData.name}</td>\r\n                            <td>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={scoreData.remark}\r\n                                    onChange={(e) => handleScoreChange(stdid, \"remark\", e.target.value)}\r\n                                    className=\"form-control form-control-sm\"\r\n                                />\r\n                            </td>\r\n                            <td>{scoreData.date}</td>\r\n                            <td>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={scoreData.score}\r\n                                    onChange={(e) => handleScoreChange(stdid, \"score\", parseInt(e.target.value, 10))}\r\n                                    className=\"form-control form-control-sm\"\r\n                                />\r\n                            </td>\r\n                            <td>\r\n                                <select\r\n                                    value={scoreData.status}\r\n                                    onChange={(e) => handleScoreChange(stdid, \"status\", parseInt(e.target.value, 10))}\r\n                                    className=\"form-select form-select-sm\"\r\n                                >\r\n                                    <option value={SCORE_STATUS.ABSENT}>Absent</option>\r\n                                    <option value={SCORE_STATUS.PRESENT}>Present</option>\r\n                                    <option value={SCORE_STATUS.LATE}>Late</option>\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            <button className=\"btn btn-primary\" onClick={saveScores}>Save Scores</button>\r\n        </div>\r\n      )}\r\n\r\n      {/* ... (ส่วนแสดง/ซ่อนรายชื่อนักศึกษาทั้งหมด) ... */}\r\n      <button\r\n        className=\"btn btn-secondary mt-3\"\r\n        onClick={() => navigate(\"/dashboard\")}\r\n      >\r\n        กลับไป Dashboard\r\n      </button>\r\n        <button\r\n            className=\"btn btn-info mt-3 ms-2\"\r\n            onClick={() => setShowStudents(!showStudents)}\r\n        >\r\n            {showStudents ? \"ซ่อนรายชื่อนักศึกษา\" : \"แสดงรายชื่อนักศึกษา\"}\r\n        </button>\r\n        {showStudents && (\r\n            <div className=\"mt-4\">\r\n                <h5>รายชื่อนักศึกษา</h5>\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>รหัส</th>\r\n                            <th>ชื่อ</th>\r\n                            <th>รูปภาพ</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {students.map((student, index) => (\r\n                            <tr key={index}>\r\n                                <td>{index + 1}</td>\r\n                                <td>{student.stdid}</td>\r\n                                <td>{student.name}</td>\r\n                                <td>\r\n                                    <img\r\n                                        src={student.photo}\r\n                                        alt=\"Student\"\r\n                                        width=\"50\"\r\n                                        height=\"50\"\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageClass;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}